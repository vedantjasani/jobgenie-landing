
import React from 'react';
import { cn } from '@/lib/utils';
import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';

interface TestimonialCardProps {
  quote: string;
  author: string;
  role: string;
  avatarSrc?: string;
  className?: string;
}

const TestimonialCard: React.FC<TestimonialCardProps> = ({
  quote,
  author,
  role,
  avatarSrc,
  className,
}) => {
  // Extract the initials from the author's name
  const initials = author
    .split(' ')
    .map(name => name[0])
    .join('')
    .toUpperCase();

  return (
    <div className={cn(
      "bg-white p-6 rounded-2xl shadow-soft border border-border/50 flex flex-col h-full",
      className
    )}>
      <div className="mb-4">
        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" className="text-jobfix-200">
          <path d="M9.33333 21.3333C7.86667 21.3333 6.61667 20.8167 5.58333 19.7833C4.55 18.75 4.03333 17.5 4.03333 16.0333C4.03333 14.5667 4.55 13.3167 5.58333 12.2833C6.61667 11.25 7.86667 10.7333 9.33333 10.7333C9.76667 10.7333 10.1833 10.7833 10.5833 10.8833C11.0167 11 11.3833 11.15 11.6833 11.3333C11.3167 12.4 10.7333 13.3333 9.93333 14.1333C9.13333 14.9333 8.2 15.5 7.13333 15.8333C7.36667 16.2 7.68333 16.5167 8.08333 16.7833C8.48333 17.05 8.9 17.1833 9.33333 17.1833C10.2667 17.1833 11.05 16.8 11.6833 16.0333C12.3167 15.2667 12.6333 14.2833 12.6333 13.0833C12.6333 11.9167 12.2667 10.95 11.5333 10.1833C10.8 9.41667 9.83333 9.03333 8.63333 9.03333C7.1 9.03333 5.83333 9.55 4.83333 10.5833C3.83333 11.6167 3.33333 12.8833 3.33333 14.3833C3.33333 16.0167 3.95 17.35 5.18333 18.3833C6.41667 19.4167 7.93333 19.9333 9.73333 19.9333C10.1 19.9333 10.4667 19.9 10.8333 19.8333C11.2 19.7667 11.55 19.6833 11.8833 19.5833L12.6333 23.4333C12.1 23.6 11.5333 23.7333 10.9333 23.8333C10.3333 23.9333 9.76667 23.9833 9.23333 23.9833C7.13333 23.9833 5.36667 23.35 3.93333 22.0833C2.5 20.8167 1.66667 19.0833 1.43333 16.8833C1.36667 15.85 1.53333 14.85 1.93333 13.8833C2.33333 12.9167 2.9 12.0833 3.63333 11.3833C4.36667 10.6833 5.25 10.1333 6.28333 9.73333C7.31667 9.33333 8.41667 9.13333 9.58333 9.13333C10.55 9.13333 11.45 9.28333 12.2833 9.58333C13.1167 9.88333 13.85 10.3 14.4833 10.8333C15.1167 11.3667 15.6167 12 15.9833 12.7333C16.35 13.4667 16.5333 14.2667 16.5333 15.1333C16.5333 16.1333 16.35 17.05 15.9833 17.8833C15.6167 18.7167 15.1333 19.4333 14.5333 20.0333C13.9333 20.6333 13.25 21.1 12.4833 21.4333C11.7167 21.7667 10.8667 21.9333 9.93333 21.9333L9.33333 21.3333ZM25.3333 21.3333C23.8667 21.3333 22.6167 20.8167 21.5833 19.7833C20.55 18.75 20.0333 17.5 20.0333 16.0333C20.0333 14.5667 20.55 13.3167 21.5833 12.2833C22.6167 11.25 23.8667 10.7333 25.3333 10.7333C25.7667 10.7333 26.1833 10.7833 26.5833 10.8833C27.0167 11 27.3833 11.15 27.6833 11.3333C27.3167 12.4 26.7333 13.3333 25.9333 14.1333C25.1333 14.9333 24.2 15.5 23.1333 15.8333C23.3667 16.2 23.6833 16.5167 24.0833 16.7833C24.4833 17.05 24.9 17.1833 25.3333 17.1833C26.2667 17.1833 27.05 16.8 27.6833 16.0333C28.3167 15.2667 28.6333 14.2833 28.6333 13.0833C28.6333 11.9167 28.2667 10.95 27.5333 10.1833C26.8 9.41667 25.8333 9.03333 24.6333 9.03333C23.1 9.03333 21.8333 9.55 20.8333 10.5833C19.8333 11.6167 19.3333 12.8833 19.3333 14.3833C19.3333 16.0167 19.95 17.35 21.1833 18.3833C22.4167 19.4167 23.9333 19.9333 25.7333 19.9333C26.1 19.9333 26.4667 19.9 26.8333 19.8333C27.2 19.7667 27.55 19.6833 27.8833 19.5833L28.6333 23.4333C28.1 23.6 27.5333 23.7333 26.9333 23.8333C26.3333 23.9333 25.7667 23.9833 25.2333 23.9833C23.1333 23.9833 21.3667 23.35 19.9333 22.0833C18.5 20.8167 17.6667 19.0833 17.4333 16.8833C17.3667 15.85 17.5333 14.85 17.9333 13.8833C18.3333 12.9167 18.9 12.0833 19.6333 11.3833C20.3667 10.6833 21.25 10.1333 22.2833 9.73333C23.3167 9.33333 24.4167 9.13333 25.5833 9.13333C26.55 9.13333 27.45 9.28333 28.2833 9.58333C29.1167 9.88333 29.85 10.3 30.4833 10.8333C31.1167 11.3667 31.6167 12 31.9833 12.7333C32.35 13.4667 32.5333 14.2667 32.5333 15.1333C32.5333 16.1333 32.35 17.05 31.9833 17.8833C31.6167 18.7167 31.1333 19.4333 30.5333 20.0333C29.9333 20.6333 29.25 21.1 28.4833 21.4333C27.7167 21.7667 26.8667 21.9333 25.9333 21.9333L25.3333 21.3333Z" fill="currentColor"/>
        </svg>
      </div>
      <blockquote className="text-lg text-gray-800 mb-5 flex-grow">{quote}</blockquote>
      <div className="flex items-center mt-auto">
        <Avatar className="h-10 w-10 mr-3">
          <AvatarImage src={avatarSrc} alt={author} />
          <AvatarFallback className="bg-jobfix-100 text-jobfix-700">{initials}</AvatarFallback>
        </Avatar>
        <div>
          <div className="text-sm font-semibold">{author}</div>
          <div className="text-xs text-muted-foreground">{role}</div>
        </div>
      </div>
    </div>
  );
};

export default TestimonialCard;
